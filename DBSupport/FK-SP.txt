PK-FK relationship in Oracle 19c
----------------------------------------
create table doctors
(
docid varchar(5) primary key,
docnm varchar(30)
);

insert into doctors values('p372','jos buttler');
insert into doctors values('g168','emily blunt');
insert into doctors values('n714','ben stokes');
select * from doctors;


create table patients
(
patno number GENERATED BY DEFAULT AS IDENTITY,
patnm varchar2(30),
treatedby varchar(5),
FOREIGN KEY (treatedby) REFERENCES doctors(docid)
);

insert into patients(patnm,treatedby) values('john','n714');
insert into patients(patnm,treatedby) values('phil','p372');

---insert into patients(patnm,treatedby) values('jim','b754');
---delete from doctors where docid='n714';



create or replace procedure applyinterest
as
begin
update accounts set balance=round(balance+(balance*3/100))
where acctype='saving';
update accounts set balance=round(balance+(balance*7/100))
where acctype='fixed';
update accounts set balance=round(balance+(balance*4/100))
where acctype='current';
end;


execute applyinterest;

select * from accounts;

create or replace procedure deduct(ano IN number,amt IN float)
as
begin
update accounts set balance=balance-amt where accno=ano;
end;

select * from accounts where accno=1040;
execute deduct(1040,1500);

